{"version":3,"sources":["webpack:///1.74bad009f2738749d0dc.js"],"names":["window","push","module","__webpack_exports__","__webpack_require__","r","d","main_canvas","main_width","main_height","main_map","engine_bg","pkg_engine_bg","reglBuilder","ui_canvas","document","getElementById","painting","lastPaint","repeat","addEventListener","event","preventDefault","clearInterval","setInterval","ui_paint","body","startEvent","clientX","clientY","i","eventDistance","add","scale","norm","sub","Math","min","smoothPaint","boundingRect","getBoundingClientRect","scaleX","width","ceil","devicePixelRatio","scaleY","height","canvasLeft","left","canvasTop","top","x","floor","y","insert","Sand","a","b","sqrt","pow","mag","magnitude","s","_ref","canvas","map","regl","ptr_pixels","pixels","dataTexture","drawMap","main_drawMap","Uint8Array","buffer","texture","data","frag","vert","uniforms","attributes","position","count","poll","renderLoop","paused","tick","animationId","requestAnimationFrame","Element","Map","__wbg_random_eb1fab8e1db2d9d1","__wbg_new_59cb74e423758ede","__wbg_stack_558ba5917b466edd","__wbg_error_4bb6c2a97407129a","__wbindgen_object_drop_ref","__wbindgen_throw","_engine_bg_wasm__WEBPACK_IMPORTED_MODULE_0__","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","heap","Array","fill","undefined","getObject","idx","heap_next","takeObject","ret","dropObject","cachedTextDecoder","TextDecoder","require","ignoreBOM","fatal","decode","cachegetUint8Memory0","getUint8Memory0","getStringFromWasm0","ptr","len","subarray","WASM_VECTOR_LEN","cachedTextEncoder","TextEncoder","encodeString","encodeInto","arg","view","buf","encode","set","read","written","cachegetInt32Memory0","getInt32Memory0","Int32Array","what","freeze","Empty","0","Wall","1","2","this","value","element","obj","create","__wrap","random","Error","concat","addHeapObject","arg0","arg1","ptr0","malloc","realloc","_ptr","mem","offset","code","charCodeAt","slice","passStringToWasm0","stack","len0","console","error","call","exports","wasmExports","w"],"mappings":"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","file":"1.6cea7c94dde2d0a9b3fa.js","sourceRoot":""}