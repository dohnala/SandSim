{"version":3,"sources":["webpack:///1.dc6af38d49239ab75416.js"],"names":["window","push","12","module","__webpack_exports__","__webpack_require__","r","d","main_canvas","main_width","main_height","main_map","engine_bg","pkg_engine_bg","reglBuilder","ui_canvas","document","getElementById","painting","lastPaint","repeat","addEventListener","event","preventDefault","clearInterval","setInterval","ui_paint","body","startEvent","clientX","clientY","i","eventDistance","add","scale","norm","sub","Math","min","smoothPaint","boundingRect","getBoundingClientRect","scaleX","width","ceil","devicePixelRatio","scaleY","height","canvasLeft","left","canvasTop","top","x","floor","y","insert","Sand","a","b","sqrt","pow","mag","magnitude","s","_ref","canvas","map","regl","ptr_pixels","pixels","dataTexture","drawMap","main_drawMap","Uint8Array","buffer","texture","data","frag","vert","uniforms","attributes","position","count","poll","renderLoop","paused","tick","animationId","requestAnimationFrame","5","Element","Map","__wbg_new_59cb74e423758ede","__wbg_stack_558ba5917b466edd","__wbg_error_4bb6c2a97407129a","__wbindgen_object_drop_ref","__wbindgen_throw","_engine_bg_wasm__WEBPACK_IMPORTED_MODULE_0__","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","heap","Array","fill","undefined","getObject","idx","heap_next","takeObject","ret","dropObject","cachedTextDecoder","TextDecoder","require","ignoreBOM","fatal","decode","cachegetUint8Memory0","getUint8Memory0","getStringFromWasm0","ptr","len","subarray","WASM_VECTOR_LEN","cachedTextEncoder","TextEncoder","encodeString","encodeInto","arg","view","buf","encode","set","read","written","cachegetInt32Memory0","getInt32Memory0","Int32Array","freeze","Empty","0","Wall","1","2","this","value","element","Pixel","__wrap","PixelState","obj","create","addHeapObject","Error","arg0","arg1","ptr0","malloc","realloc","_ptr","mem","offset","code","charCodeAt","slice","passStringToWasm0","stack","len0","console","error","call","6","exports","wasmExports","w"],"mappings":"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","file":"1.f38325c52364cee56510.js","sourceRoot":""}